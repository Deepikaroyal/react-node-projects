{"ast":null,"code":"var _jsxFileName = \"/home/mobcoder/Desktop/reactbatch2022/imageCropper/src/Components/ImageResizer.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport FileResizer from 'react-image-file-resizer';\nimport { useEffect, useState } from 'react';\nimport Resizer from 'react-image-file-resizer';\nimport ImageCropper from './ImageCropper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ImageResize(props) {\n  _s();\n  const {\n    imageToResize,\n    onImageResized,\n    resizeAspect,\n    resizeQuality\n  } = props;\n  const [imageToResizeUri, setImageToResizeUri] = useState();\n  const [imageToResizeWidth, setImageToResizeWidth] = useState();\n  const [imageToResizeHeight, setImageToResizeHeight] = useState();\n  useEffect(() => {\n    if (imageToResize) {\n      const reader = new FileReader();\n      reader.addEventListener('load', () => {\n        setImageToResizeUri(reader.result);\n      });\n      reader.readAsDataURL(imageToResize);\n    }\n  }, [imageToResize]);\n  useEffect(() => {\n    if (imageToResize && imageToResizeWidth && imageToResizeHeight) {\n      Resizer.imageFileResizer(imageToResize, imageToResizeWidth * resizeAspect, imageToResizeWidth * resizeAspect, \"JPEG\", resizeQuality, 0, uri => {\n        onImageResized(uri);\n      }, \"base64\");\n    }\n  }, [imageToResize, imageToResizeWidth, imageToResizeHeight, onImageResized, resizeAspect, resizeQuality]);\n  return /*#__PURE__*/_jsxDEV(\"img\", {\n    src: imageToResizeUri,\n    onLoad: e => {\n      const img = e.target;\n      setImageToResizeWidth(img.width);\n      setImageToResizeHeight(img.height);\n    },\n    crossorigin: \"anonymous\" // to avoid CORS-related problems\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n}\n_s(ImageResize, \"Av0yu4QDm64pGwzsQqKzQ5rO2K0=\");\n_c = ImageResize;\nImageResize.defaultProps = {\n  onImageResized: () => {},\n  resizeAspect: 0.5,\n  resizeQuality: 100\n};\nexport default ImageResize;\nvar _c;\n$RefreshReg$(_c, \"ImageResize\");","map":{"version":3,"names":["React","FileResizer","useEffect","useState","Resizer","ImageCropper","jsxDEV","_jsxDEV","ImageResize","props","_s","imageToResize","onImageResized","resizeAspect","resizeQuality","imageToResizeUri","setImageToResizeUri","imageToResizeWidth","setImageToResizeWidth","imageToResizeHeight","setImageToResizeHeight","reader","FileReader","addEventListener","result","readAsDataURL","imageFileResizer","uri","src","onLoad","e","img","target","width","height","crossorigin","fileName","_jsxFileName","lineNumber","columnNumber","_c","defaultProps","$RefreshReg$"],"sources":["/home/mobcoder/Desktop/reactbatch2022/imageCropper/src/Components/ImageResizer.js"],"sourcesContent":["import React from 'react';\nimport FileResizer from 'react-image-file-resizer';\nimport { useEffect,useState } from 'react';\nimport Resizer from 'react-image-file-resizer';\nimport ImageCropper from './ImageCropper';\n\n\nfunction ImageResize(props) {\n    const {imageToResize, onImageResized, resizeAspect, resizeQuality} = props;\n\n    const [imageToResizeUri, setImageToResizeUri] = useState();\n    const [imageToResizeWidth, setImageToResizeWidth] = useState();\n    const [imageToResizeHeight, setImageToResizeHeight] = useState();\n\n    useEffect(() => {\n        if (imageToResize) {\n            const reader = new FileReader();\n\n            reader.addEventListener('load', () => {\n                setImageToResizeUri(reader.result);\n            });\n\n            reader.readAsDataURL(imageToResize);\n        }\n    }, [imageToResize])\n\n    useEffect(() => {\n        if (imageToResize && imageToResizeWidth && imageToResizeHeight) {\n            Resizer.imageFileResizer(\n                imageToResize,\n                imageToResizeWidth * resizeAspect,\n                imageToResizeWidth * resizeAspect,\n                \"JPEG\",\n                resizeQuality,\n                0,\n                (uri) => {\n                    onImageResized(uri)\n                },\n                \"base64\"\n            );\n        }\n    }, [\n        imageToResize, imageToResizeWidth, imageToResizeHeight,\n        onImageResized, resizeAspect, resizeQuality\n    ]);\n\n    return (\n        <img\n            src={imageToResizeUri}\n            onLoad= {(e) => {\n                const img = e.target;\n                setImageToResizeWidth(img.width);\n                setImageToResizeHeight(img.height);\n            }}\n            crossorigin=\"anonymous\" // to avoid CORS-related problems\n        />\n    );\n}\n\nImageResize.defaultProps = {\n    onImageResized: () => {},\n    resizeAspect: 0.5,\n    resizeQuality: 100\n}\n\nexport default ImageResize;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,0BAA0B;AAClD,SAASC,SAAS,EAACC,QAAQ,QAAQ,OAAO;AAC1C,OAAOC,OAAO,MAAM,0BAA0B;AAC9C,OAAOC,YAAY,MAAM,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG1C,SAASC,WAAWA,CAACC,KAAK,EAAE;EAAAC,EAAA;EACxB,MAAM;IAACC,aAAa;IAAEC,cAAc;IAAEC,YAAY;IAAEC;EAAa,CAAC,GAAGL,KAAK;EAE1E,MAAM,CAACM,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGb,QAAQ,EAAE;EAC1D,MAAM,CAACc,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGf,QAAQ,EAAE;EAC9D,MAAM,CAACgB,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGjB,QAAQ,EAAE;EAEhED,SAAS,CAAC,MAAM;IACZ,IAAIS,aAAa,EAAE;MACf,MAAMU,MAAM,GAAG,IAAIC,UAAU,EAAE;MAE/BD,MAAM,CAACE,gBAAgB,CAAC,MAAM,EAAE,MAAM;QAClCP,mBAAmB,CAACK,MAAM,CAACG,MAAM,CAAC;MACtC,CAAC,CAAC;MAEFH,MAAM,CAACI,aAAa,CAACd,aAAa,CAAC;IACvC;EACJ,CAAC,EAAE,CAACA,aAAa,CAAC,CAAC;EAEnBT,SAAS,CAAC,MAAM;IACZ,IAAIS,aAAa,IAAIM,kBAAkB,IAAIE,mBAAmB,EAAE;MAC5Df,OAAO,CAACsB,gBAAgB,CACpBf,aAAa,EACbM,kBAAkB,GAAGJ,YAAY,EACjCI,kBAAkB,GAAGJ,YAAY,EACjC,MAAM,EACNC,aAAa,EACb,CAAC,EACAa,GAAG,IAAK;QACLf,cAAc,CAACe,GAAG,CAAC;MACvB,CAAC,EACD,QAAQ,CACX;IACL;EACJ,CAAC,EAAE,CACChB,aAAa,EAAEM,kBAAkB,EAAEE,mBAAmB,EACtDP,cAAc,EAAEC,YAAY,EAAEC,aAAa,CAC9C,CAAC;EAEF,oBACIP,OAAA;IACIqB,GAAG,EAAEb,gBAAiB;IACtBc,MAAM,EAAIC,CAAC,IAAK;MACZ,MAAMC,GAAG,GAAGD,CAAC,CAACE,MAAM;MACpBd,qBAAqB,CAACa,GAAG,CAACE,KAAK,CAAC;MAChCb,sBAAsB,CAACW,GAAG,CAACG,MAAM,CAAC;IACtC,CAAE;IACFC,WAAW,EAAC,WAAW,CAAC;EAAA;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAC1B;AAEV;AAAC7B,EAAA,CAlDQF,WAAW;AAAAgC,EAAA,GAAXhC,WAAW;AAoDpBA,WAAW,CAACiC,YAAY,GAAG;EACvB7B,cAAc,EAAEA,CAAA,KAAM,CAAC,CAAC;EACxBC,YAAY,EAAE,GAAG;EACjBC,aAAa,EAAE;AACnB,CAAC;AAED,eAAeN,WAAW;AAAC,IAAAgC,EAAA;AAAAE,YAAA,CAAAF,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}